# Twintail

[English](README.md) | [日本語](README_ja.md)

Tailscale Services Dashboard - A web application for managing [Tailscale Services](https://tailscale.com/kb/1552/tailscale-services)

> [!WARNING]
> This project was generated through Vibe Coding. All source code, including tests, was generated by AI and may not have been thoroughly reviewed. Use with caution in production environments.

## Tech Stack

- Go 1.25
- Echo v5 (Web framework)
- Vite
- Tailwind CSS v4
- DaisyUI v5

## Build Instructions

### Initial Setup

Install Node.js dependencies and air (hot reload tool):

```bash
make install-deps
```

### Development Server

Start the Go + Vite hot reload development server:

```bash
make dev
```

- Auto rebuild & restart on Go/HTML file changes
- Auto rebuild on CSS/TS changes
- Access via browser at `http://localhost:8077`

### Production Build

Run frontend build and Go binary build together:

```bash
make build
```

Static files are embedded in the binary for production builds.

## Installation

After building, install the binary and systemd service:

```bash
sudo make install
```

This will:
- Install the binary to `/usr/local/bin/twintail` (architecture auto-detected)
- Install the systemd unit file to `/etc/systemd/system/twintail.service`

To start the service:

```bash
sudo systemctl daemon-reload
sudo systemctl enable --now twintail
```

## Uninstallation

```bash
sudo make uninstall
```

This will stop the service, disable it, and remove all installed files.

## Running (Manual)

```bash
./twintail-linux-arm64  # For ARM64
./twintail-linux-amd64  # For AMD64
```

Access `http://localhost:8077` in your browser.

## Project Structure

```
twintail/
├── assets/
│   └── css/
│       └── input.css              # Tailwind CSS entry point
├── cmd/
│   └── server/                    # Application entry point
├── internal/
│   ├── config/                    # Configuration management
│   ├── handlers/                  # HTTP handlers
│   ├── requests/                  # Request validation structs
│   ├── server/                    # Server setup
│   ├── services/                  # Service layer (Tailscale CLI integration)
│   ├── validator/                 # Custom validators
│   └── views/
│       └── views/
│           ├── layouts/
│           │   └── base.html      # Base layout
│           ├── partials/          # Reusable partial templates
│           ├── index.html         # Service list
│           ├── show_service.html  # Service details
│           ├── new_service.html   # Create service
│           ├── confirm_delete.html           # Delete service confirmation
│           ├── new_endpoint.html             # Create endpoint
│           ├── edit_endpoint.html            # Edit endpoint
│           ├── confirm_delete_endpoint.html  # Delete endpoint confirmation
│           ├── settings.html                 # Settings page
│           └── tailscale_not_installed.html  # Error page
├── static/
│   └── dist/                      # Vite build output (embedded in binary)
├── vite.config.ts                 # Vite configuration
├── package.json                   # Node.js dependencies
├── Makefile                       # Build scripts
└── go.mod/go.sum                  # Go modules
```

## Development Notes

- Static files are embedded via `//go:embed static` only in production builds
- Development uses `os.DirFS` for immediate file change reflection
- Built binary is standalone (no static directory required)
